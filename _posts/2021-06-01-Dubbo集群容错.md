---
layout:     post
title:      Dubbo集群容错
subtitle:   Dubbo集群容错:在集群调用失败时，Dubbo 提供了多种容错方案，缺省为 failover 重试                  
date:       2021-06-01
author:     LG
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - Java
    - Dubbo
    - 分布式
    
---



##  Dubbo集群容错

### 1. 集群容错
集群调用失败时，Dubbo 提供的容错方案。

在集群调用失败时，Dubbo 提供了多种容错方案，缺省为 failover 重试。

![](https://tva1.sinaimg.cn/large/008i3skNgy1gr352uvjnej30go08c0vf.jpg)

各节点关系：

- 这里的 Invoker 是 Provider 的一个可调用 Service 的抽象，Invoker 封装了 Provider 地址及 Service 接口信息
- Directory 代表多个 Invoker，可以把它看成 List<Invoker> ，但与 List 不同的是，它的值可能是动态变化的，比如注册中心推送变更
- Cluster 将 Directory 中的多个 Invoker 伪装成一个 Invoker，对上层透明，伪装过程包含了容错逻辑，调用失败后，重试另一个
- Router 负责从多个 Invoker 中按路由规则选出子集，比如读写分离，应用隔离等
- LoadBalance 负责从多个 Invoker 中选出具体的一个用于本次调用，选的过程包含了负载均衡算法，调用失败后，需要重选

### 2. 集群容错模式分类


### 3. 小结



### 4. 鸣谢

[集群容错](https://dubbo.apache.org/zh/docs/v2.7/user/examples/fault-tolerent-strategy/)